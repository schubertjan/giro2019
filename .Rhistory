dat <- giro2019::createhilldata(x = dat_s$`lungh.(km)`[i],
y = dat_s$`disl.(m)`[i],
cat = dat_s$cat[i])
giro2019::hillplot(x = dat$x,
y = dat$y,
col_plot = dat$plot_col,
x_lim = max(dat_s$`lungh.(km)`),
y_lim = max(dat_s$`disl.(m)`),
stage = dat_s$tappa[i],
climb_name = dat_s$gpm[i],
avg_p = dat_s$p.med[i],
max_p = dat_s$p.max[i])
})
}
j
i
dat_s <- subset(climbs, climbs$cat == j)
dat_s <- dat_s[order(dat_s$`disl.(m)`), ]
dat_s
climbs$cat <- ifelse(climbs$cat == "CimaCoppi", "1", climbs$cat)
for(j in 1:4){
dat_s <- subset(climbs, climbs$cat == j)
dat_s <- dat_s[order(dat_s$`disl.(m)`), ]
par(mfrow = c(nrow(dat_s)/2,2), mar = c(1,1,2,1))
x <- lapply(1:nrow(climbs), function(i) {
dat <- giro2019::createhilldata(x = dat_s$`lungh.(km)`[i],
y = dat_s$`disl.(m)`[i],
cat = dat_s$cat[i])
giro2019::hillplot(x = dat$x,
y = dat$y,
col_plot = dat$plot_col,
x_lim = max(dat_s$`lungh.(km)`),
y_lim = max(dat_s$`disl.(m)`),
stage = dat_s$tappa[i],
climb_name = dat_s$gpm[i],
avg_p = dat_s$p.med[i],
max_p = dat_s$p.max[i])
})
}
j
climbs$cat <- ifelse(climbs$cat == "CimaCoppi", "1", climbs$cat)
for(j in 1:4){
dat_s <- subset(climbs, climbs$cat == j)
dat_s <- dat_s[order(dat_s$`disl.(m)`), ]
par(mfrow = c(nrow(dat_s)/2,2), mar = c(1,1,2,1))
x <- lapply(1:nrow(dat_s), function(i) {
dat <- giro2019::createhilldata(x = dat_s$`lungh.(km)`[i],
y = dat_s$`disl.(m)`[i],
cat = dat_s$cat[i])
giro2019::hillplot(x = dat$x,
y = dat$y,
col_plot = dat$plot_col,
x_lim = max(dat_s$`lungh.(km)`),
y_lim = max(dat_s$`disl.(m)`),
stage = dat_s$tappa[i],
climb_name = dat_s$gpm[i],
avg_p = dat_s$p.med[i],
max_p = dat_s$p.max[i])
})
}
climbs$cat <- ifelse(climbs$cat == "CimaCoppi", "1", climbs$cat)
for(j in 1:4){
dat_s <- subset(climbs, climbs$cat == j)
dat_s <- dat_s[order(dat_s$`disl.(m)`), ]
par(mfrow = c(nrow(dat_s)/2,2), mar = c(1,1,2,1))
x <- lapply(1:nrow(dat_s), function(i) {
dat <- giro2019::createhilldata(x = dat_s$`lungh.(km)`[i],
y = dat_s$`disl.(m)`[i],
cat = dat_s$cat[i])
giro2019::hillplot(x = dat$x,
y = dat$y,
col_plot = dat$plot_col,
x_lim = max(dat_s$`lungh.(km)`),
y_lim = max(dat_s$`disl.(m)`),
stage = dat_s$tappa[i],
climb_name = dat_s$gpm[i],
avg_p = dat_s$p.med[i],
max_p = dat_s$p.max[i])
})
}
j <- 1
dat_s <- subset(climbs, climbs$cat == j)
dat_s <- dat_s[order(dat_s$`disl.(m)`), ]
nrow(dat_s)/2
?par
?datatable
nrow(climbs)
climbs <- climbs[order(climbs$`disl.(m)`), ]
par(mfrow = c(20,2), mar = c(2,1,2,1))
x <- lapply(1:nrow(dat_s), function(i) {
dat <- giro2019::createhilldata(x = dat_s$`lungh.(km)`[i],
y = dat_s$`disl.(m)`[i],
cat = dat_s$cat[i])
giro2019::hillplot(x = dat$x,
y = dat$y,
col_plot = dat$plot_col,
x_lim = max(dat_s$`lungh.(km)`),
y_lim = max(dat_s$`disl.(m)`),
stage = dat_s$tappa[i],
climb_name = dat_s$gpm[i],
avg_p = dat_s$p.med[i],
max_p = dat_s$p.max[i],
showaxis = FALSE)
})
climbs <- climbs[order(climbs$`disl.(m)`), ]
par(mfrow = c(20,2), mar = c(2,1,2,1))
x <- lapply(1:nrow(climbs), function(i) {
dat <- giro2019::createhilldata(x = climbs$`lungh.(km)`[i],
y = climbs$`disl.(m)`[i],
cat = climbs$cat[i])
giro2019::hillplot(x = dat$x,
y = dat$y,
col_plot = dat$plot_col,
x_lim = max(climbs$`lungh.(km)`),
y_lim = max(climbs$`disl.(m)`),
stage = climbs$tappa[i],
climb_name = climbs$gpm[i],
avg_p = climbs$p.med[i],
max_p = climbs$p.max[i],
showaxis = FALSE)
})
nrow(climbs)
devtools::build_vignettes()
devtools::check()
elev_stage <- aggregate(`disl.(m)` ~ tappa,
data = climbs,
FUN = sum)
barplot(height = elev_stage$`disl.(m)`,
names.arg = elev_stage$tappa,
xlab = "Stage",
ylab = "Total Elevation",
main = "Total Elevation Gained in Categorized Climbs")
abline(v = 9.7)
abline(v = 15.7)
DT::datatable(elev_stage,
rownames = FALSE,
options = list(pageLength = 10))
elev_stage <- aggregate(`disl.(m)` ~ tappa,
data = climbs,
FUN = sum)
barplot(height = elev_stage$`disl.(m)`,
names.arg = elev_stage$tappa,
xlab = "Stage",
ylab = "Total Elevation",
main = "Total Elevation Gained in Categorized Climbs",
cex.axis = .8)
abline(v = 9.7)
abline(v = 15.7)
DT::datatable(elev_stage,
rownames = FALSE,
options = list(pageLength = 10))
elev_stage <- aggregate(`disl.(m)` ~ tappa,
data = climbs,
FUN = sum)
barplot(height = elev_stage$`disl.(m)`,
names.arg = elev_stage$tappa,
xlab = "Stage",
ylab = "Total Elevation",
main = "Total Elevation Gained in Categorized Climbs",
cex.axis = .5)
abline(v = 9.7)
abline(v = 15.7)
DT::datatable(elev_stage,
rownames = FALSE,
options = list(pageLength = 10))
elev_stage <- aggregate(`disl.(m)` ~ tappa,
data = climbs,
FUN = sum)
barplot(height = elev_stage$`disl.(m)`,
names.arg = elev_stage$tappa,
xlab = "Stage",
ylab = "Total Elevation",
main = "Total Elevation Gained in Categorized Climbs",
cex.axis = .8,
cex.names = .8)
abline(v = 9.7)
abline(v = 15.7)
DT::datatable(elev_stage,
rownames = FALSE,
options = list(pageLength = 10))
devtools::build_vignettes()
library(giro2019)
rm(list = ls())
library(giro2019)
devtools::check()
devtools::build_vignettes()
devtools::check()
knitr::opts_chunk$set(
fig.width=7,
collapse = TRUE,
comment = "#>"
)
library(giro2019)
plot(climbs$`disl.(m)`, climbs$p.max)
plot(climbs$`disl.(m)`, climbs$p.med)
plot(climbs$`disl.(m)`, climbs$p.max)
plot(climbs$`disl.(m)`, climbs$p.max)
text(climbs$`disl.(m)`, climbs$p.max, labels = climbs$gpm)
?text
plot(climbs$`disl.(m)`, climbs$p.max)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 2)
plot(climbs$`disl.(m)`, climbs$p.max)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
plot(climbs$`disl.(m)`, climbs$p.max)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = climbs$p.max)
plot(climbs$`disl.(m)`, climbs$p.max)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, climbs$p.med)
text(climbs$`disl.(m)`, climbs$p.med,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.med))
plot(climbs$`disl.(m)`, climbs$p.med, col = climbs$cat)
text(climbs$`disl.(m)`, climbs$p.med,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.med))
plot(climbs$`disl.(m)`, climbs$p.med, fill = climbs$cat)
text(climbs$`disl.(m)`, climbs$p.med,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.med))
plot(climbs$`disl.(m)`, climbs$p.med, col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.med,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.med))
plot(climbs$`disl.(m)`, climbs$`lungh.(km)`, col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$`lungh.(km)`,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$`lungh.(km)`))
plot(climbs$p.med, climbs$p.max, col = climbs$cat, pch = 16)
text(climbs$p.med, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$p.med),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, climbs$p.med, col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.med,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.med))
plot(climbs$`disl.(m)`, climbs$p.max)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, climbs$p.max, col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, jitter(climbs$p.max, factor = 0.01), col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, jitter(climbs$p.max, factor = 0.1), col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
jitter(climbs$p.max, factor = 0.1)
plot(climbs$`disl.(m)`, jitter(climbs$p.max, factor = 1), col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, jitter(climbs$p.max, factor = 5), col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, jitter(climbs$p.max, factor = 2), col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, jitter(climbs$p.max, factor = 1), col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 4)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, jitter(climbs$p.max, factor = 1), col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`, jitter(climbs$p.max, factor = .5), col = climbs$cat, pch = 16)
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
col = climbs$cat,
pch = 16,
= c(min(climbs$p.max), max(climbs$p.max)*1.1))
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
col = climbs$cat,
pch = 16,
= c(min(climbs$p.max), max(climbs$p.max)*1.3))
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
col = climbs$cat,
pch = 16,
ylim = c(min(climbs$p.max), max(climbs$p.max)*1.1))
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
col = climbs$cat,
pch = 16,
ylim = c(min(climbs$p.max), max(climbs$p.max)*1.05))
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
?climb
library(giro2019)
?climb
?climbs
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
col = climbs$cat,
pch = 16,
ylim = c(min(climbs$p.max), max(climbs$p.max)*1.05),
xlab = "Elevation Difference",
ylab = "Max gradient",
main = "Elevation Difference vs. Max Gradient")
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
col_plot <- ifelse(climbs$cat == "1", "black", "red")
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
col = col_plot,
pch = 16,
ylim = c(min(climbs$p.max), max(climbs$p.max)*1.05),
xlab = "Elevation Difference",
ylab = "Max gradient",
main = "Elevation Difference vs. Max Gradient")
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
col_plot <- "black"
col_plot <- ifelse(climbs$cat == "2", "red",
ifelse(climbs$cat == "3", "orange",
ifelse(climbs$cat == "4", "green", col_plot)))
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
col = col_plot,
pch = 16,
ylim = c(min(climbs$p.max), max(climbs$p.max)*1.05),
xlab = "Elevation Difference",
ylab = "Max gradient",
main = "Elevation Difference vs. Max Gradient")
text(climbs$`disl.(m)`, climbs$p.max,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
col_plot <- "black"
col_plot <- ifelse(climbs$cat == "2", "red",
ifelse(climbs$cat == "3", "orange",
ifelse(climbs$cat == "4", "green", col_plot)))
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
col = col_plot,
pch = 16,
ylim = c(min(climbs$p.max), max(climbs$p.max)*1.05),
xlab = "Elevation Difference",
ylab = "Max gradient",
main = "Elevation Difference vs. Max Gradient")
text(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = 1),
col = col_plot,
pch = 16,
ylim = c(min(climbs$p.max), max(climbs$p.max)*1.05),
xlab = "Elevation Difference",
ylab = "Max gradient",
main = "Elevation Difference vs. Max Gradient")
text(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = .5),
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
col_plot <- "black"
col_plot <- ifelse(climbs$cat == "2", "red",
ifelse(climbs$cat == "3", "orange",
ifelse(climbs$cat == "4", "green", col_plot)))
plot(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = 1),
col = col_plot,
pch = 16,
ylim = c(min(climbs$p.max), max(climbs$p.max)*1.05),
xlab = "Elevation Difference",
ylab = "Max gradient",
main = "Elevation Difference vs. Max Gradient")
text(climbs$`disl.(m)`,
jitter(climbs$p.max, factor = 1),
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
y <- jitter(climbs$p.max, factor = 1)
col_plot <- "black"
col_plot <- ifelse(climbs$cat == "2", "red",
ifelse(climbs$cat == "3", "orange",
ifelse(climbs$cat == "4", "green", col_plot)))
y <- jitter(climbs$p.max, factor = 1)
plot(climbs$`disl.(m)`,
y,
col = col_plot,
pch = 16,
ylim = c(min(climbs$p.max), max(climbs$p.max)*1.05),
xlab = "Elevation Difference",
ylab = "Max gradient",
main = "Elevation Difference vs. Max Gradient")
text(climbs$`disl.(m)`,
y,
labels = climbs$gpm,
cex = .5,
pos = 3)
abline(v = mean(climbs$`disl.(m)`),
h = mean(climbs$p.max))
